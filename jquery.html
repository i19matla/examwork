<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>05 jQuery pilot application</title>
    <link rel="stylesheet" href="examstyling.css">
    <script src="https://code.jquery.com/jquery-3.6.4.js"></script>
</head>
<body>
    <header>
        <div id="buttonArea">
            <button id="buttonSetTwo" onclick="changeToDataSetTwo()">Byt till: Dataset två</button>
            <button id="randomizeNewOrder" onclick="itemNrRandomizer()">Slumpa fram ny ordning för båda dataseten</button>
            <button id="buttonSetOne" onclick="changeToDataSetOne()">Byt till: Dataset ett</button>
        </div>
    </header>
    <main>
        <section id="webShopApp">
            
        </section>
    </main>
    <footer>

    </footer>
    <script src="dataset1.js"></script>
    <script src="dataset2.js"></script>
    <script>
        // var datasetOne imported
        // var datasetTwo imported
        var itemNr = [];
        var amountOfItems = 2000;
        var timer1 = [];
        var timer2 = [];

        $(function () {
            $("header").prepend(`<h1 id="overAllHeader">jQuery-Dataset-Ett | jQuery-Dataset-Ett | jQuery-Dataset-Ett</h1>`);
        });
        
        console.log(datasetOne[1].itemHeading);
        console.log(datasetOne[1].image.imgSrcUrl);
        console.log(datasetOne[1].image.imgAltText);
        console.log(datasetOne[1].image.itemImageText);
        console.log(datasetOne[1].itemPrice);
        console.log(datasetOne[1].currency);
        console.log(datasetOne[1].itemDescription);
        console.log(datasetOne[1].articleNr);
        
        for (let i = 0; i < amountOfItems; i++) {
            if (i < 1) itemNrRandomizer();
            $(function () {
                $("#webShopApp").append(
                    `
                        <div class="itemContainer">
                            <h2 id="itemHeading${i}">${ datasetOne[itemNr[i]].itemHeading }</h2>
                            <figure>
                                <img id="itemImg${i}" src="${datasetOne[itemNr[i]].image.imgSrcUrl}" alt="${datasetOne[itemNr[i]].image.imgAltText}" width="200" height="280" title="Vacker bild dataset 1">
                                <figcaption id="itemFigText${i}">
                                    ${datasetOne[itemNr[i]].image.itemImageText}
                                </figcaption>
                            </figure>
                            <p id="itemPrice${i}" class="price">${datasetOne[itemNr[i]].itemPrice} ${datasetOne[itemNr[i]].currency}</p>
                            <p id="itemDescr${i}" class="itemDescr">${datasetOne[itemNr[i]].itemDescription}</p>
                            <small id="artNr${i}">Artikel "${datasetOne[itemNr[i]].articleNr}"</small>
                        </div>
                    `
                );
            })
        }

        function itemNrRandomizer() {
            for (let i = 0; i < amountOfItems; i++) {
                itemNr[i] = Math.floor((Math.random() * 20));   
            }
        }

        function changeToDataSetTwo() {
            $(function () {
                $(`#overAllHeader`).text("jQuery-Dataset-Två | jQuery-Dataset-Två | jQuery-Dataset-Två");
            });
            
            for (let i = 0; i < amountOfItems; i++) {
                $(`#itemHeading${i}`).text(datasetTwo[itemNr[i]].itemHeading);
                $(`#itemImg${i}`).attr({ "src" : datasetTwo[itemNr[i]].image.imgSrcUrl, "alt": datasetTwo[itemNr[i]].image.imgAltText, "title" :  datasetTwo[itemNr[i]].image.itemImageTitle });
                $(`#itemFigText${i}`).text(datasetTwo[itemNr[i]].image.itemImageText);
                $(`#itemPrice${i}`).text(datasetTwo[itemNr[i]].itemPrice + " " + datasetOne[itemNr[i]].currency);
                $(`#itemDescr${i}`).text(datasetTwo[itemNr[i]].itemDescription);
                $(`#artNr${i}`).text("Artikel \"" + datasetTwo[itemNr[i]].articleNr+"\"");
            }
        }

        function changeToDataSetOne() {
            $(function() {
                $(`#overAllHeader`).text("jQuery-Dataset-Ett | jQuery-Dataset-Ett | jQuery-Dataset-Ett");
            });
            
            for (let i = 0; i < amountOfItems; i++) {
                $(`#itemHeading${i}`).text(datasetOne[itemNr[i]].itemHeading);
                $(`#itemImg${i}`).attr({ "src" : datasetOne[itemNr[i]].image.imgSrcUrl, "alt": datasetOne[itemNr[i]].image.imgAltText, "title" : "Vacker bild dataset 2" });
                $(`#itemFigText${i}`).text(datasetOne[itemNr[i]].image.itemImageText);
                $(`#itemPrice${i}`).text(datasetOne[itemNr[i]].itemPrice + " " + datasetOne[itemNr[i]].currency);
                $(`#itemDescr${i}`).text(datasetOne[itemNr[i]].itemDescription);
                $(`#artNr${i}`).text("Artikel \"" + datasetOne[itemNr[i]].articleNr+"\"");
            }
        }        
    </script>
</body>
</html>