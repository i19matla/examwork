<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pilot study</title>
    <link rel="stylesheet" href="examstyling.css">
    <script src="jquery3 6 4.js"></script>
    <script src="measure.js"></script>
    <script src="randomizedPublicDomainOne400.js"></script> <!-- Variablename: datasetOne200 -->
    <script src="randomizedPublicDomainTwo400.js"></script> <!-- Variablename: datasetTwo200 -->
    <!-- file:///C:/Users/Mats/Desktop/Examensarbetet/02%20Inl%C3%A4mning%202%20Pilotstudie/07%20pilotstudien%20klar%20-%20UTAN%20vs%20code%20liveserver/jquery.html -->
</head>
<body>
    <header>
        
    </header>
    <main>
        <section id="webShopApp">
            
        </section>
    </main>
    <script>
        const originalUrl = "file:///C:/Users/Mats/Desktop/Examensarbetet/02%20Inl%C3%A4mning%202%20Pilotstudie/07%20pilotstudien%20klar%20-%20UTAN%20vs%20code%20liveserver/jquery.html?";
        var dataset = [];
        var header;
        // var datasetOne200 imported
        // var datasetTwo200 imported
        var amountOfItems = datasetOne200.length;

        if (window.location.href.search("datasetOne200") == -1) {
            dataset = datasetTwo200;
            header = "jQuery-Dataset-Två | jQuery-Dataset-Två | jQuery-Dataset-Två";
        } else {
            dataset = datasetOne200;
            header = "jQuery-Dataset-Ett | jQuery-Dataset-Ett | jQuery-Dataset-Ett";
        }
        
        $("header").append(`
            <h1 id="overAllHeader">${header}</h1>
            <div id="buttonArea">
                <button id="buttonSetTwo" onclick="changeToDataSetTwo()">Byt till: Dataset två</button>
                <button id="buttonSetOne" onclick="changeToDataSetOne()">Byt till: Dataset ett</button>
                <button onclick="deleteAndRestart()">Töm localstorage och gör ny mätserie</button>
            </div>    
        `);
                
        for (let i = 0; i < amountOfItems; i++) {
            $("#webShopApp").append(
                `
                    <div class="itemContainer">
                        <h2 id="itemHeading${i}">${ dataset[i].itemHeading }</h2>
                        <figure>
                            <img id="itemImg${i}" src="${dataset[i].image.imgSrcUrl}" alt="${dataset[i].image.imgAltText}" width="200" height="280" title="Vacker bild dataset 1">
                            <figcaption id="itemFigText${i}">
                                ${dataset[i].image.itemImageText}
                            </figcaption>
                        </figure>
                        <p id="itemPrice${i}" class="price">${dataset[i].itemPrice} ${dataset[i].currency}</p>
                        <p id="itemDescr${i}" class="itemDescr">${dataset[i].itemDescription}</p>
                        <small id="artNr${i}">Artikel "${dataset[i].articleNr}"</small>
                    </div>
                `
            );
        }

        function changeToDataSetTwo() {
            window.location.href = originalUrl + "dataset=datasetTwo200";
        }

        function changeToDataSetOne() {
            window.location.href = originalUrl + "dataset=datasetOne200";
        }

        function deleteAndRestart() {
            localStorage.clear();
            window.location.href = "file:///C:/Users/Mats/Desktop/Examensarbetet/02%20Inl%C3%A4mning%202%20Pilotstudie/07%20pilotstudien%20klar%20-%20UTAN%20vs%20code%20liveserver/jquery.html";
        }
    </script>
</body>
</html>