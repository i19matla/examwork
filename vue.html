<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vue pilot study.html</title>
    <link rel="stylesheet" href="examstyling.css">
    <script src="vue 3 2 29.js"></script>
    <script src="measurevuejquery.js"></script>
</head>
<body>
    <script src="randomizedOne.js"></script>
    <script src="randomizedTwo.js"></script>
    <script>
        let minApp = Vue.createApp({
            template: `
            <header>
                <h1 id="overAllHeader">{{ activeHeaderHeading }}</h1>
                <div id="buttonArea">
                    <button id="buttonSetTwo" @click="changeToDataSetTwo()">Byt till: Dataset två</button>
                    <button id="buttonSetOne" @click="changeToDataSetOne()">Byt till: Dataset ett</button>
                    <button @click="deleteAndRestart()">Töm localstorage och gör ny mätserie</button>
                </div>
            </header>
            <main>
                <section id="webShopApp">
                    <div v-for="(component, loopNr) in amountOfComponents" :key="loopNr">
                        <div class="itemContainer">
                            <h2>{{ data[loopNr].itemHeading }}</h2>
                            <figure>
                                <img :src="data[loopNr].image.imgSrcUrl" :alt="data[loopNr].image.imgAltText" :title="data[loopNr].image.itemImageTitle" width="200" height="280">
                                <figcaption>
                                    {{ data[loopNr].image.itemImageText }}
                                </figcaption>
                            </figure>
                            <p class="price">{{ data[loopNr].itemPrice }} {{ data[loopNr].currency }}</p>
                            <p class="itemDescr">{{ data[loopNr].itemDescription }}</p>
                            <small class="artNr">Artikel "{{ data[loopNr].articleNr }}"</small>
                        </div>
                    </div>
                </section>
            </main>
            `,
            data() {
                return {
                    amountOfComponents: this.theLength,
                    activeHeaderHeading: this.activeHeaderHeading,
                    data: this.theDataSet,
                }
            },
            methods: {
                changeToDataSetTwo() {
                    window.location.href = "http://127.0.0.1:5500/vue200.html?dataset=datasetTwo200";
                },
                changeToDataSetOne() {
                    window.location.href = "http://127.0.0.1:5500/vue200.html?dataset=datasetOne200";
                },
                deleteAndRestart() {
                    localStorage.clear();
                }
            },
            beforeCreate() {
                if (window.location.href.search("datasetOne200") == -1) {
                    this.activeHeaderHeading = 'Vue-Dataset-Två | Vue-Dataset-Två | Vue-Dataset-Två';
                    this.theDataSet = datasetTwo200;
                } else {
                    this.activeHeaderHeading = 'Vue-Dataset-Ett | Vue-Dataset-Ett | Vue-Dataset-Ett';
                    this.theDataSet = datasetOne200;
                }
                this.theLength = datasetOne200.length;
            },
            created() {
                //
            }
        });

        minApp.mount('body');
    </script>
</body>
</html>